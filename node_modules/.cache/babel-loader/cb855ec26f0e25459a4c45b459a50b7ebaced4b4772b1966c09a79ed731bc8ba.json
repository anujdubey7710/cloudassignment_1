{"ast":null,"code":"var _jsxFileName = \"/Users/anujdubey/cloudassignment1/src/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainPage = () => {\n  _s();\n  const [userName, setUserName] = useState('');\n  const [subscribedItems, setSubscribedItems] = useState([]);\n  const [title, setTitle] = useState('');\n  const [year, setYear] = useState('');\n  const [artist, setArtist] = useState('');\n  const [queryResult, setQueryResult] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const loginAPIUrl = 'https://q3358v04o2.execute-api.us-east-1.amazonaws.com/prod/login';\n  const registerUrl = 'https://q3358v04o2.execute-api.us-east-1.amazonaws.com/prod/register';\n  useEffect(() => {\n    // Load user's subscribed items on component mount\n    // This should make a call to DynamoDB to fetch subscribed items\n    // Replace the following placeholder code with the actual API call\n    // axios.get('/api/subscriptions')\n    //   .then(response => setSubscribedItems(response.data))\n    const fakeSubscribedItems = [{\n      id: 1,\n      title: 'Song 1',\n      artist: 'Artist 1',\n      year: '2022'\n    }];\n    setSubscribedItems(fakeSubscribedItems);\n  }, []);\n  const handleLogin = (username, password) => {\n    axios.post(loginAPIUrl, {\n      username,\n      password\n    }).then(response => {\n      setUserName(response.data.user);\n      // Additional logic after successful login\n    }).catch(error => {\n      setErrorMessage('Login failed. Please try again.');\n    });\n  };\n  const handleRegister = (name, email, username, password) => {\n    axios.post(registerUrl, {\n      name,\n      email,\n      username,\n      password\n    }).then(response => {\n      // Handle successful registration\n    }).catch(error => {\n      setErrorMessage('Registration failed. Please try again.');\n    });\n  };\n  const handleQuery = () => {\n    // Perform query based on title, year, and artist\n    // Update queryResult state\n  };\n  const handleRemove = id => {\n    // Remove subscribed item based on ID\n    // Update subscribedItems state and DynamoDB\n  };\n  const handleLogout = () => {\n    // Perform logout action\n    setUserName('');\n    // Additional logic for logout\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Welcome, \", userName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: subscribedItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [item.title, \" - \", item.artist, \" (\", item.year, \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRemove(item.id),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        placeholder: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: year,\n        onChange: e => setYear(e.target.value),\n        placeholder: \"Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: artist,\n        onChange: e => setArtist(e.target.value),\n        placeholder: \"Artist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleQuery,\n        children: \"Query\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(MainPage, \"r5AUJ3dRshQ7zTa8LDK7tmO7g7w=\");\n_c = MainPage;\nexport default MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","MainPage","_s","userName","setUserName","subscribedItems","setSubscribedItems","title","setTitle","year","setYear","artist","setArtist","queryResult","setQueryResult","errorMessage","setErrorMessage","loginAPIUrl","registerUrl","fakeSubscribedItems","id","handleLogin","username","password","post","then","response","data","user","catch","error","handleRegister","name","email","handleQuery","handleRemove","handleLogout","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","onClick","type","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["/Users/anujdubey/cloudassignment1/src/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst MainPage = () => {\n  const [userName, setUserName] = useState('');\n  const [subscribedItems, setSubscribedItems] = useState([]);\n  const [title, setTitle] = useState('');\n  const [year, setYear] = useState('');\n  const [artist, setArtist] = useState('');\n  const [queryResult, setQueryResult] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const loginAPIUrl = 'https://q3358v04o2.execute-api.us-east-1.amazonaws.com/prod/login';\n  const registerUrl = 'https://q3358v04o2.execute-api.us-east-1.amazonaws.com/prod/register';\n\n  useEffect(() => {\n    // Load user's subscribed items on component mount\n    // This should make a call to DynamoDB to fetch subscribed items\n    // Replace the following placeholder code with the actual API call\n    // axios.get('/api/subscriptions')\n    //   .then(response => setSubscribedItems(response.data))\n    const fakeSubscribedItems = [{ id: 1, title: 'Song 1', artist: 'Artist 1', year: '2022' }];\n    setSubscribedItems(fakeSubscribedItems);\n  }, []);\n\n  const handleLogin = (username, password) => {\n    axios.post(loginAPIUrl, { username, password })\n      .then(response => {\n        setUserName(response.data.user);\n        // Additional logic after successful login\n      })\n      .catch(error => {\n        setErrorMessage('Login failed. Please try again.');\n      });\n  };\n\n  const handleRegister = (name, email, username, password) => {\n    axios.post(registerUrl, { name, email, username, password })\n      .then(response => {\n        // Handle successful registration\n      })\n      .catch(error => {\n        setErrorMessage('Registration failed. Please try again.');\n      });\n  };\n\n  const handleQuery = () => {\n    // Perform query based on title, year, and artist\n    // Update queryResult state\n  };\n\n  const handleRemove = (id) => {\n    // Remove subscribed item based on ID\n    // Update subscribedItems state and DynamoDB\n  };\n\n  const handleLogout = () => {\n    // Perform logout action\n    setUserName('');\n    // Additional logic for logout\n  };\n\n  return (\n    <div>\n      <div>Welcome, {userName}</div>\n\n      <div>\n        {/* Subscription area */}\n        {subscribedItems.map(item => (\n          <div key={item.id}>\n            {item.title} - {item.artist} ({item.year})\n            <button onClick={() => handleRemove(item.id)}>Remove</button>\n          </div>\n        ))}\n      </div>\n\n      <div>\n        {/* Query area */}\n        <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} placeholder=\"Title\" />\n        <input type=\"text\" value={year} onChange={(e) => setYear(e.target.value)} placeholder=\"Year\" />\n        <input type=\"text\" value={artist} onChange={(e) => setArtist(e.target.value)} placeholder=\"Artist\" />\n        <button onClick={handleQuery}>Query</button>\n      </div>\n\n      <div>\n        <button onClick={handleLogout}>Logout</button>\n      </div>\n\n      {errorMessage && <div>{errorMessage}</div>}\n    </div>\n  );\n};\n\nexport default MainPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}